<?xml version = "1.0" encoding = "utf-8"?>
<html>

<head>
    <meta charset="utf-8">
    <title>Book Creator</title>
    <style type="text/css">
        body {
            font-family: Helvetica, "Microsoft YaHei", "LiHei Pro", TW-Kai;
        }

        pre {
            font-size: 1.2em;
        }
    </style>
</head>

<body>
    <h2>Add a New Book</h2>
    <pre>
    <b>Author</b>   <input type="text" id="author">
    <b>Title</b>    <input type="text" id="title">
    <b>Category</b> <input type="text" id="category">
    <b>Year</b>     <input type="text" id="year">
    <b>ISBN</b>     <input type="text" id="isbn">
    <br>
    <button id="insert">Add Book</button>
    </pre>
    <a href="book-viewer.html">List all books</a>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js">
    </script>
    <script type="text/javascript">
        const url = "insert_API.php";
		
		$("#insert").click(insertBook);
        function insertBook() {
            
            let obj = {};
            obj["author"] = $("#author").val();
            obj["title"] = $("#title").val();
            obj["category"] = $("#category").val();
            obj["year"] = $("#year").val();
            obj["isbn"] = $("#isbn").val();

            $.post("insert_API.php", obj)
                .done(function (data) {
                    window.alert(data);
                });
        }
    </script>
</body>

</html>